command: docker secret ls
aliases: list
short: List secrets
long: |-
  Run this command on a manager node to list the secrets in the swarm.

  For detailed information about using secrets, refer to [manage sensitive data with Docker secrets](https://docs.docker.com/engine/swarm/secrets/).

  > **Note**
  >
  > This is a cluster management command, and must be executed on a swarm
  > manager node. To learn about managers and workers, refer to the
  > [Swarm mode section](https://docs.docker.com/engine/swarm/) in the
  > documentation.
usage: docker secret ls [オプション]
pname: docker secret
plink: docker_secret.yaml
options:
- option: filter
  shorthand: f
  value_type: filter
  description: 指定された条件に基づいてフィルター検索を行います。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: format
  value_type: string
  description: Go 言語テンプレートを使って出力をフォーマットします。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: quiet
  shorthand: q
  value_type: bool
  default_value: "false"
  description: ID のみ表示します。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
examples: |-
  ```bash
  $ docker secret ls

  ID                          NAME                        CREATED             UPDATED
  6697bflskwj1998km1gnnjr38   q5s5570vtvnimefos1fyeo2u2   6 weeks ago         6 weeks ago
  9u9hk4br2ej0wgngkga6rp4hq   my_secret                   5 weeks ago         5 weeks ago
  mem02h8n73mybpgqjf0kfi1n0   test_secret                 3 seconds ago       3 seconds ago
  ```

  {: #filtering }
  ### フィルター検索

  フィルターフラグ（`-f` または `--filter`）の指定書式は「キー=値」というものです。
  複数のフィルターが必要な場合は、フラグを複数指定します。
  （たとえば `--filter "foo=bar" --filter "bif=baz"` など。）

  現在サポートされているフィルターは以下のとおりです。

  - [id](#id) (secret's ID)
  - [label](#label) (`label=<key>` or `label=<key>=<value>`)
  - [name](#name) (secret's name)

  {: #id }
  #### id フィルター

  `id` フィルターは、Secret ID の全部またはそのプリフィックス部分を検索します。

  ```bash
  $ docker secret ls -f "id=6697bflskwj1998km1gnnjr38"

  ID                          NAME                        CREATED             UPDATED
  6697bflskwj1998km1gnnjr38   q5s5570vtvnimefos1fyeo2u2   6 weeks ago         6 weeks ago
  ```

  {: #label }
  #### label フィルター

  `label` フィルターは、`label` だけが存在する、あるいは `label` とその値が存在する Secret を検索します。

  以下の例では `project` ラベルを持った Secret が検索されます。
  この場合、その値の内容は問いません。

  ```bash
  $ docker secret ls --filter label=project

  ID                          NAME                        CREATED             UPDATED
  mem02h8n73mybpgqjf0kfi1n0   test_secret                 About an hour ago   About an hour ago
  ```

  The following filter matches only services with the `project` label with the
  `project-a` value.

  ```bash
  $ docker service ls --filter label=project=test

  ID                          NAME                        CREATED             UPDATED
  mem02h8n73mybpgqjf0kfi1n0   test_secret                 About an hour ago   About an hour ago
  ```

  {: #name }
  #### name フィルター

  `name` フィルターは、Secret 名の全部またはそのプリフィックス部分を検索します。

  以下のフィルター指定では、`test` という名前をプリフィックスに含んだ Secret すべてが検索されます。

  ```bash
  $ docker secret ls --filter name=test_secret

  ID                          NAME                        CREATED             UPDATED
  mem02h8n73mybpgqjf0kfi1n0   test_secret                 About an hour ago   About an hour ago
  ```

  {: #format-the-output }
  ### フォーマット設定

  フォーマット設定オプション（`--format`）により Go 言語のテンプレートを利用して、Secret をわかりやすく出力することができます。

  Go 言語テンプレートによるプレースホルダー（placeholder）は以下のとおりです。

  | プレースホルダー | 内容説明                                                                         |
  | ------------ | ------------------------------------------------------------------------------------ |
  | `.ID`        | Secret ID                                                                            |
  | `.Name`      | Secret name                                                                          |
  | `.CreatedAt` | Time when the secret was created                                                     |
  | `.UpdatedAt` | Time when the secret was updated                                                     |
  | `.Labels`    | All labels assigned to the secret                                                    |
  | `.Label`     | Value of a specific label for this secret. For example `{{.Label "secret.ssh.key"}}` |

  `--format` オプションを利用すると `secret ls` コマンドは、テンプレートが定めるデータを直接出力します。
  また `table` ディレクティブを利用すると、カラムヘッダーも同時に出力されます。

  以下は、ヘッダーを含めずにテンプレートを利用する例であり、すべてのイメージにおける `ID`、`Name` の各項目がコロン（`:`）で区切って表示されます。

  ```bash
  $ docker secret ls --format "{{.ID}}: {{.Name}}"

  77af4d6b9913: secret-1
  b6fa739cedf5: secret-2
  78a85c484f71: secret-3
  ```

  Secret の一覧を、その名前、生成日時とともに表形式で出力するには、以下のようにします。

  ```bash
  $ docker secret ls --format "table {{.ID}}\t{{.Name}}\t{{.CreatedAt}}"

  ID                  NAME                      CREATED
  77af4d6b9913        secret-1                  5 minutes ago
  b6fa739cedf5        secret-2                  3 hours ago
  78a85c484f71        secret-3                  10 days ago
  ```
deprecated: false
min_api_version: "1.25"
experimental: false
experimentalcli: false
kubernetes: false
swarm: true

