command: docker network connect
short: コンテナーをネットワークに接続します。
long: |-
  コンテナーをネットワークに接続します。
  コンテナーの接続は、コンテナー名またはコンテナー ID を使って行います。
  接続を行うと、同一ネットワーク内の他のコンテナーとの通信が可能になります。
usage: docker network connect [オプション] NETWORK CONTAINER
pname: docker network
plink: docker_network.yaml
options:
- option: alias
  value_type: stringSlice
  default_value: '[]'
  description: コンテナーに対してネットワーク限定のエイリアスを追加します。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: driver-opt
  value_type: stringSlice
  default_value: '[]'
  description: ネットワークドライバーのオプション。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: ip
  value_type: string
  description: IPv4 アドレスを指定します。（たとえば 172.30.100.104 など）
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: ip6
  value_type: string
  description: IPv6 アドレスを指定します。（たとえば 2001:db8::33 など）
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: link
  value_type: list
  description: 別のコンテナーへのリンクを追加します。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
- option: link-local-ip
  value_type: stringSlice
  default_value: '[]'
  description: コンテナーに対してリンクローカルアドレスを追加します。
  deprecated: false
  experimental: false
  experimentalcli: false
  kubernetes: false
  swarm: false
examples: |-
  {: #connect-a-running-container-to-a-network }
  ### 実行中コンテナーのネットワークへの接続

  ```bash
  $ docker network connect multi-host-network container1
  ```

  {: #connect-a-container-to-a-network-when-it-starts }
  ### コンテナー起動時のネットワークへの接続

  `docker run --network=<network-name>` のようにオプションをつけてコンテナーを起動すれば、起動直後にネットワークに接続することができます。

  ```bash
  $ docker run -itd --network=multi-host-network busybox
  ```

  {: #specify-the-ip-address-a-container-will-use-on-a-given-network }
  ### ネットワーク内で利用する IP アドレスの指定

  コンテナーのインターフェースに割り振りたい IP アドレスを指定することができます。

  ```bash
  $ docker network connect --ip 10.10.36.122 multi-host-network container2
  ```

  {: #use-the-legacy---link-option }
  ### かつての `--link` オプションの利用

  `--link` オプションを使って、エイリアスを指定して別のコンテナーをリンクすることができます。

  ```bash
  $ docker network connect --link container1:c1 multi-host-network container2
  ```

  {: #create-a-network-alias-for-a-container }
  ### コンテナーに対するネットワークエイリアスの生成

  `--alias` オプションは、コンテナーがネットワークに接続する際に、別名による接続を可能とするものです。

  ```bash
  $ docker network connect --alias db --alias mysql multi-host-network container2
  ```

  {: #network-implications-of-stopping-pausing-or-restarting-containers }
  ### コンテナーの停止、一時停止、再起動に伴うネットワークへの影響

  ネットワークに接続しているコンテナーの一時停止、再起動、停止を行うことができます。
  コンテナーの起動時には、設定されているネットワークへの接続を行います。

  コンテナーに IP アドレスが指定されている場合、停止コンテナーが再起動する際には、IP アドレスが再割り当てされます。
  その IP アドレスが利用できない場合、コンテナーは起動に失敗します。
  IP アドレスの取得を確実にするために、ネットワーク生成時に `--ip-range` を指定する方法があります。
  そしてコンテナーの IP アドレスには、そこで指定した IP アドレスの範囲外にある固定 IP アドレスを選ぶようにします。
  こうすれば、コンテナーがネットワークに接続していない間に、その IP アドレスが他のコンテナーによって利用されることがなくなります。

  ```bash
  $ docker network create --subnet 172.20.0.0/16 --ip-range 172.20.240.0/20 multi-host-network
  ```

  ```bash
  $ docker network connect --ip 172.20.128.2 multi-host-network container2
  ```

  コンテナーに接続できることを確認するには `docker network inspect` コマンドを使います。
  `docker network disconnect` を実行すれば、ネットワークからコンテナーを削除できます。

  ネットワークに接続されると、コンテナー間のやりとりは、コンテナーの IP アドレスまたはコンテナー名を使って行われます。
  `overlay` ネットワークやカスタムプラグインを使ったマルチホスト接続に対応している場合、コンテナーがマルチホスト対応ネットワークに接続し、かつ異なる Engine から起動されたものであっても、そのようなやりとりを通じてコンテナー間の通信が可能です。

  1 つのコンテナーは複数のネットワークに接続することができます。
  その場合のネットワークは同一タイプである必要はありません。
  たとえば 1 つのコンテナーを、bridge と overlay のネットワークに接続することができます。
deprecated: false
min_api_version: "1.21"
experimental: false
experimentalcli: false
kubernetes: false
swarm: false

